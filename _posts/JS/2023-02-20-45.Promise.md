---
title: "[ëª¨ë˜ ìžë°”ìŠ¤í¬ë¦½íŠ¸ Deep Dive] 45ìž¥ - Promise"
excerpt: ""
toc: true
toc_sticky: true

categories:
  - JS
tags:
  - [JS, Java Script, Study]
---

![ëª¨ë˜ ë”¥ë‹¤ì´ë¸Œ](https://k.kakaocdn.net/dn/6gbOs/btrcMGbY7yQ/Z3sIpZrBU53FvMbdqlLD01/img.png){: #magnific title=""}

# ðŸŽ‰ Ajax

ìžë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•œ í•˜ë‚˜ì˜ íŒ¨í„´ìœ¼ë¡œ ì½œë°± í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤. í•˜ì§€ë§Œ ì „í†µì ì¸ ì½œë°± íŒ¨í„´ì€

ì½œë°± í—¬ë¡œ ì¸í•´ ê°€ë…ì„±ì´ ë‚˜ì˜ê³  ë¹„ë™ê¸° ì²˜ë¦¬ ì¤‘ ë°œìƒí•œ ì—ëŸ¬ì˜ ì²˜ë¦¬ê°€ê³¤ëž€í•˜ë©° ì—¬ëŸ¬ ê°œì˜ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ í•œ ë²ˆì— ì²˜ë¦¬í•˜ëŠ” ë°ë„ í•œê³„ê°€ ìžˆë‹¤.

ES6ì—ì„œëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•œ ë˜ ë‹¤ë¥¸ íŒ¨í„´ìœ¼ë¡œ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë„ìž…í–ˆë‹¤. í”„ë¡œë¯¸ìŠ¤ëŠ” ì „í†µì ì¸ ì½œë°± íŒ¨í„´ì´

ê°€ì§„ ë‹¨ì ì„ ë³´ì™„í•˜ë©° ë¹„ë™ê¸° ì²˜ë¦¬ ì‹œì ì„ ëª…í™•í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìžˆë‹¤ëŠ” ìž¥ì ì´ ìžˆë‹¤.

## ðŸ˜‰ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•œ ì½œë°± íŒ¨í„´ì˜ ë‹¨ì 

GET ìš”ì²­ì„ ìœ„í•œ í•¨ìˆ˜ ì˜ˆì‹œ

```js
// GET ìš”ì²­ì„ ìœ„í•œ ë¹„ë™ê¸° í•¨ìˆ˜
const get = (url) => {
  const xhr = new XMLHttpRequest();
  xhr.open("GET", url);
  xhr.send();

  xhr.onload = () => {
    if (xhr.status === 200) {
      // ì„œë²„ì˜ ì‘ë‹µì„ ì½˜ì†”ì— ì¶œë ¥í•œë‹¤.
      console.log(JSON.parse(xhr.response));
    } else {
      console.error(`${xhr.status} ${xhr.statusText}`);
    }
  };
};

// idê°€ 1ì¸ postë¥¼ ì·¨ë“
get("https://jsonplaceholder.typicode.com/posts/1");
/*
{
  "userId": 1,
  "id": 1,
  "title": "sunt aut facere ...",
  "body": "quia et suscipit ..."
}
*/
```

ìœ„ ì˜ˆì œì˜ get í•¨ìˆ˜ëŠ” ì„œë²„ì˜ ì‘ë‹µ ê²°ê³¼ë¥¼ ì½˜ì†”ì— ì¶œë ¥í•œë‹¤.

get í•¨ìˆ˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ë‹¤. get í•¨ìˆ˜ ë‚´ë¶€ì˜ **onload ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ë¹„ë™ê¸°ë¡œ ë™ìž‘**í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ í•¨ìˆ˜ ë‚´ë¶€ì˜ ë¹„ë™ê¸°ë¡œ ë™ìž‘í•˜ëŠ” ì½”ë“œê°€ ì™„ë£Œë˜ì§€ ì•Šì•˜ë‹¤ í•´ë„ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ì¦‰ì‹œ ì¢…ë£Œëœë‹¤. ì¦‰, ë¹„ë™ê¸° í•¨ìˆ˜ ë‚´ë¶€ì˜ ë¹„ë™ê¸°ë¡œ ë™ìž‘í•˜ëŠ” ì½”ë“œëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ê°€ ì¢…ë£Œëœ ì´í›„ì— ì™„ë£Œëœë‹¤.

ë”°ë¼ì„œ ë¹„ë™ê¸° í•¨ìˆ˜ ë‚´ë¶€ì˜ ë¹„ë™ê¸°ë¡œ ë™ìž‘í•˜ëŠ” ì½”ë“œì—ì„œ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ì™¸ë¶€ë¡œ ë°˜í™˜í•˜ê±°ë‚˜ ìƒìœ„ ìŠ¤ì½”í”„ì˜ ë³€ìˆ˜ì—í• ë‹¹í•˜ë©´ ê¸°ëŒ€í•œ ëŒ€ë¡œ ë™ìž‘í•˜ì§€ ì•ŠëŠ”ë‹¤.

```js
// GET ìš”ì²­ì„ ìœ„í•œ ë¹„ë™ê¸° í•¨ìˆ˜
const get = (url) => {
  const xhr = new XMLHttpRequest();
  xhr.open("GET", url);
  xhr.send();

  xhr.onload = () => {
    if (xhr.status === 200) {
      // â‘  ì„œë²„ì˜ ì‘ë‹µì„ ë°˜í™˜í•œë‹¤.
      return JSON.parse(xhr.response);
    }
    console.error(`${xhr.status} ${xhr.statusText}`);
  };
};

// â‘¡ idê°€ 1ì¸ postë¥¼ ì·¨ë“
const response = get("https://jsonplaceholder.typicode.com/posts/1");
console.log(response); // undefined
```

ì´ì²˜ëŸ¼ **ë¹„ë™ê¸° í•¨ìˆ˜ ë‚´ë¶€ì˜ ë¹„ë™ê¸°ë¡œ ë™ìž‘í•˜ëŠ” ì½”ë“œì—ì„œ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ì™¸ë¶€ë¡œ ë°˜í™˜í•˜ê±°ë‚˜ ìƒìœ„ ìŠ¤ì½”í”„ì˜ ë³€ìˆ˜ì—í• ë‹¹í•˜ë©´ ê¸°ëŒ€í•œ ëŒ€ë¡œ ë™ìž‘í•˜ì§€ ì•ŠëŠ”ë‹¤.**

ì´ìœ ë¥¼ ê°„ëžµížˆ ì„¤ëª…í•˜ìžë©´, get í•¨ìˆ˜ê°€ ì‹¤í–‰ë  ë•Œ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìƒì„± -> ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸(ì½œ ìŠ¤íƒ)ì— í‘¸ì‹œ -> xhr.onload ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ëŠ” í…ŒìŠ¤í¬ íì— ì €ìž¥ -> get í•¨ìˆ˜ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì œê±° -> console.log í•¨ìˆ˜ê°€ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì— í‘¸ì‹œ -> ì´ë•Œ xhr.onload ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë”ë¼ë„ ì½œ ìŠ¤íƒì´ ë¹„ì–´ìžˆì§€ ì•Šìœ¼ë¯€ë¡œ ë¬´ì‹œ -> console.log í•¨ìˆ˜ ì‹¤í–‰( ì´ë•Œ ì•„ë¬´ ê°’ì´ ì—†ìœ¼ë¯€ë¡œ undefinded)í›„ ì½œ ìŠ¤íƒ ì œê±° -> ì½œ ìŠ¤íƒì´ ë¹„ì–´ìžˆìœ¼ë¯€ë¡œ ì´ë•Œ ì´ë²¤íŠ¸ ë£¨í”„ì— ì˜í•´ xhr.onload í•¨ìˆ˜ê°€ ì½œ ìŠ¤íƒì— í‘¸ì‹œë˜ê³  ì‹¤í–‰ëœë‹¤.

ë”°ë¼ì„œ ë¹„ë™ê¸° í•¨ìˆ˜ëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ ê²°ê³¼ë¥¼ ì™¸ë¶€ì— ë°˜í™˜í•  ìˆ˜ ì—†ê³ , ìƒìœ„ ìŠ¤ì½”í”„ì˜ ë³€ìˆ˜ì— í• ë‹¹í•  ìˆ˜ë„ ì—†ë‹¤.

ë”°ë¼ì„œ ë¹„ë™ê¸° í•¨ìˆ˜ì˜ ì²˜ë¦¬ ê²°ê³¼(ì„œë²„ì˜ ì‘ë‹µ ë“±)ì— ëŒ€í•œ í›„ì† ì²˜ë¦¬ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ìˆ˜í–‰í•´ì•¼ í•œë‹¤.

ì´ë•Œ ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ ë²”ìš©ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë¹„ë™ê¸° í•¨ìˆ˜ì— ë¹„ë™ê¸° ì²˜ë¦¬ ê²°ê³¼ì— ëŒ€í•œ í›„ì† ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” ì½œë°± í•¨ìˆ˜ë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤. í•„ìš”ì— ë”°ë¼ ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì„±ê³µí•˜ë©´ í˜¸ì¶œë  ì½œë°± í•¨ìˆ˜ì™€ ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì‹¤íŒ¨í•˜ë©´ í˜¸ì¶œë  ì½œë°± í•¨ìˆ˜ë¥¼ ì „ë‹¬í•  ìˆ˜ ìžˆë‹¤.

```js
// GET ìš”ì²­ì„ ìœ„í•œ ë¹„ë™ê¸° í•¨ìˆ˜
const get = (url, successCallback, failureCallback) => {
  const xhr = new XMLHttpRequest();
  xhr.open("GET", url);
  xhr.send();

  xhr.onload = () => {
    if (xhr.status === 200) {
      // ì„œë²„ì˜ ì‘ë‹µì„ ì½œë°± í•¨ìˆ˜ì— ì¸ìˆ˜ë¡œ ì „ë‹¬í•˜ë©´ì„œ í˜¸ì¶œí•˜ì—¬ ì‘ë‹µì— ëŒ€í•œ í›„ì† ì²˜ë¦¬ë¥¼ í•œë‹¤.
      successCallback(JSON.parse(xhr.response));
    } else {
      // ì—ëŸ¬ ì •ë³´ë¥¼ ì½œë°± í•¨ìˆ˜ì— ì¸ìˆ˜ë¡œ ì „ë‹¬í•˜ë©´ì„œ í˜¸ì¶œí•˜ì—¬ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ í•œë‹¤.
      failureCallback(xhr.status);
    }
  };
};

// idê°€ 1ì¸ postë¥¼ ì·¨ë“
// ì„œë²„ì˜ ì‘ë‹µì— ëŒ€í•œ í›„ì† ì²˜ë¦¬ë¥¼ ìœ„í•œ ì½œë°± í•¨ìˆ˜ë¥¼ ë¹„ë™ê¸° í•¨ìˆ˜ì¸ getì— ì „ë‹¬í•´ì•¼ í•œë‹¤.
get("https://jsonplaceholder.typicode.com/posts/1", console.log, console.error);
/*
{
"userId": 1,
"id": 1,
"title": "sunt aut facere ...",
"body": "quia et suscipit ..."
}
*/
```

ì´ì²˜ëŸ¼ ì½œë°± í•¨ìˆ˜ë¥¼ í†µí•´ ë¹„ë™ê¸° ì²˜ë¦¬ ê²°ê³¼ì— ëŒ€í•œ í›„ì† ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìžˆë‹¤.

í•˜ì§€ë§Œ í›„ì† ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ê°€ ë˜ ë‹¤ì‹œ ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤ë©´ ì½œë°± í•¨ìˆ˜ í˜¸ì¶œì´ì¤‘ì²©ë˜ì–´ ë³µìž¡ë„ê°€ ë†’ì•„ì§€ëŠ” í˜„ìƒì´ ë°œìƒí•˜ëŠ”ë°, ì´ë¥¼ *"ì½œë°± í—¬"*ì´ë¼ í•œë‹¤. ì¦‰, ë¹„ë™ê¸° í•¨ìˆ˜ì˜ í›„ì† ì²˜ë¦¬ì˜ ì½œë°± í•¨ìˆ˜ê°€ ë¹„ë™ê¸° ì²˜ë¦¬ì˜ ê²°ê³¼ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ë˜ ë‹¤ì‹œ ë¹„ë™ê¸° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ë‹¤. ë‹¤ìŒ ì˜ˆì œë¥¼ í†µí•´ ì•Œì•„ë³´ìž.

```js
// GET ìš”ì²­ì„ ìœ„í•œ ë¹„ë™ê¸° í•¨ìˆ˜
const get = (url, callback) => {
  const xhr = new XMLHttpRequest();
  xhr.open("GET", url);
  xhr.send();

  xhr.onload = () => {
    if (xhr.status === 200) {
      // ì„œë²„ì˜ ì‘ë‹µì„ ì½œë°± í•¨ìˆ˜ì— ì „ë‹¬í•˜ë©´ì„œ í˜¸ì¶œí•˜ì—¬ ì‘ë‹µì— ëŒ€í•œ í›„ì† ì²˜ë¦¬ë¥¼ í•œë‹¤.
      callback(JSON.parse(xhr.response));
    } else {
      console.error(`${xhr.status} ${xhr.statusText}`);
    }
  };
};

const url = "https://jsonplaceholder.typicode.com";

// idê°€ 1ì¸ postì˜ userIdë¥¼ ì·¨ë“
get(`${url}/posts/1`, ({ userId }) => {
  console.log(userId); // 1
  // postì˜ userIdë¥¼ ì‚¬ìš©í•˜ì—¬ user ì •ë³´ë¥¼ ì·¨ë“
  get(`${url}/users/${userId}`, (userInfo) => {
    console.log(userInfo); // {id: 1, name: "Leanne Graham", username: "Bret",...}
  });
});
```

ìœ„ ì˜ˆì œë¥¼ ë³´ë©´ GET ìš”ì²­ì„ í†µí•´ ì„œë²„ë¡œë¶€í„° ì‘ë‹µ(idê°€ 1ì¸ post)ì„ ì·¨ë“í•˜ê³  ì´ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ë˜ ë‹¤ì‹œ GET ìš”ì²­ì„ í•œë‹¤. ì´ ì½œë°± í•¨ìˆ˜ê°€ ì¤‘ì²©ë˜ë©´ ì½œë°± í—¬ì´ ë°œìƒí•œë‹¤. ì½œë°± í—¬ì€ ê°€ë…ì„±ì„ ë‚˜ì˜ê²Œ í•˜ë©° ì‹¤ìˆ˜ë¥¼ ìœ ë°œí•˜ëŠ” ì›ì¸ì´ ë˜ê³ ,

try catch ë¬¸ì˜ ì—ëŸ¬ ì²˜ë¦¬ì˜ í•œê³„ë¥¼ ê°€ì§„ë‹¤. ì´ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ ES6ì—ì„œ í”„ë¡œë¯¸ìŠ¤ê°€ ë„ìž…ë˜ì—ˆë‹¤.

ì „í˜•ì ì¸ ì½œë°± í—¬ ì˜ˆì‹œ

```js
get("/step1", (a) => {
  get(`/step2/${a}`, (b) => {
    get(`/step3/${b}`, (c) => {
      get(`/step4/${c}`, (d) => {
        console.log(d);
      });
    });
  });
});
```

## ðŸ˜‰ í”„ë¡œë¯¸ìŠ¤ì˜ ìƒì„±

**í”„ë¡œë¯¸ìŠ¤ëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ ìƒíƒœì™€ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ê´€ë¦¬í•˜ëŠ” ê°ì²´ë‹¤.**

Promise ìƒì„±ìž í•¨ìˆ˜ë¥¼ new ì—°ì‚°ìžì™€ í•¨ê»˜ í˜¸ì¶œí•˜ë©´ í”„ë¡œë¯¸ìŠ¤(Promise ê°ì²´)ë¥¼ ìƒì„±í•œë‹¤. ES6ì—ì„œ ë„ìž…ëœ PromiseëŠ” í˜¸ìŠ¤íŠ¸ ê°ì²´ê°€ ì•„ë‹Œ ECMAScript ì‚¬ì–‘ì— ì •ì˜ëœ í‘œì¤€ ë¹ŒíŠ¸ì¸ ê°ì²´ë‹¤.

Promise ìƒì„±ìž í•¨ìˆ˜ëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•  ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ”ë° ì´ ì½œë°± í•¨ìˆ˜ëŠ” resolveì™€ reject í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤.

```js
// í”„ë¡œë¯¸ìŠ¤ ìƒì„±
const promise = new Promise((resolve, reject) => {
  // Promise í•¨ìˆ˜ì˜ ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•œë‹¤.
  if (/* ë¹„ë™ê¸° ì²˜ë¦¬ ì„±ê³µ */) {
    resolve("result");
  } else {
    /* ë¹„ë™ê¸° ì²˜ë¦¬ ì‹¤íŒ¨ */;
    reject("failure reason");
  }
});
```

Promise ìƒì„±ìž í•¨ìˆ˜ê°€ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•œë‹¤.

ì´ë•Œ ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì„±ê³µí•˜ë©´ ì½œë°± í•¨ìˆ˜ì˜ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ resolve í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê³ ,

ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì‹¤íŒ¨í•˜ë©´ reject í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.

ìœ„ì˜ ë¹„ë™ê¸° í•¨ìˆ˜ getì„ í”„ë¡œë¯¸ìŠ¤ë¡œ ë°”ê¿”ë³´ìž.

```js
// GET ìš”ì²­ì„ ìœ„í•œ ë¹„ë™ê¸° í•¨ìˆ˜
const promiseGet = (url) => {
  return new Promise((resolve, reject) => {
    const xhr = new XMLHttpRequest();
    xhr.open("GET", url);
    xhr.send();

    xhr.onload = () => {
      if (xhr.status === 200) {
        // ì„±ê³µì ìœ¼ë¡œ ì‘ë‹µì„ ì „ë‹¬ë°›ìœ¼ë©´ resolve í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.
        resolve(JSON.parse(xhr.response));
      } else {
        // ì—ëŸ¬ ì²˜ë¦¬ë¥¼ ìœ„í•´ reject í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.
        reject(new Error(xhr.status));
      }
    };
  });
};

// promiseGet í•¨ìˆ˜ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.
promiseGet("https://jsonplaceholder.typicode.com/posts/1");
```

í”„ë¡œë¯¸ìŠ¤ëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ì— ëŒ€í•œ ìƒíƒœ ì •ë³´ë¥¼ ê°–ëŠ”ë‹¤.

| í”„ë¡œë¯¸ìŠ¤ì˜ ìƒíƒœ ì •ë³´ |                 ì˜ë¯¸                  |          ìƒíƒœ ë³€ê²½ ì¡°ê±´          |
| :------------------: | :-----------------------------------: | :------------------------------: |
|       pending        | ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì•„ì§ ìˆ˜í–‰ë˜ì§€ ì•Šì€ ìƒíƒœ | í”„ë¡œë¯¸ìŠ¤ê°€ ìƒì„±ëœ ì§í›„ ê¸°ë³¸ ìƒíƒœ |
|      fulfilled       |    ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ìˆ˜í–‰ëœ ìƒíƒœ(ì„±ê³µ)    |        resolve í•¨ìˆ˜ í˜¸ì¶œ         |
|       rejected       |    ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ìˆ˜í–‰ëœ ìƒíƒœ(ì‹¤íŒ¨)    |         reject í•¨ìˆ˜ í˜¸ì¶œ         |

- ë¹„ë™ê¸° ì²˜ë¦¬ ì„±ê³µ : resolve í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ í”„ë¡œë¯¸ìŠ¤ë¥¼ fulfilled ìƒíƒœë¡œ ë³€ê²½í•œë‹¤.
- ë¹„ë™ê¸° ì²˜ë¦¬ ì‹¤íŒ¨ : reject í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ í”„ë¡œë¯¸ìŠ¤ë¥¼ rejected ìƒíƒœë¡œ ë³€ê²½í•œë‹¤.
  **í”„ë¡œë¯¸ìŠ¤ì˜ ìƒíƒœëŠ” resolve ë˜ëŠ” reject í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒìœ¼ë¡œ ê²°ì •ëœë‹¤.**

![í”„ë¡œë¯¸ìŠ¤ì˜ ìƒíƒœ](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcaCaCG%2FbtrvBkHfF7U%2FtNBKzA0hYILBn9BI11oPDk%2Fimg.jpg){: #magnific title="" width="600"}

## ðŸ˜‰ í”„ë¡œë¯¸ìŠ¤ì˜ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œ

í”„ë¡œë¯¸ìŠ¤ì˜ ë¹„ë™ê¸° ì²˜ë¦¬ ìƒíƒœê°€ ë³€í™”í•˜ë©´ ì´ì— ë”°ë¥¸ í›„ì† ì²˜ë¦¬ë¥¼ í•´ì•¼ í•œë‹¤.

í”„ë¡œë¯¸ìŠ¤ê°€ fulfilled ìƒíƒœê°€ ë˜ë©´ í”„ë¡œë¯¸ìŠ¤ì˜ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ê°€ì§€ê³  ë¬´ì–¸ê°€ë¥¼ í•´ì•¼ í•˜ê³ ,í”„ë¡œë¯¸ìŠ¤ê°€ rejected ìƒíƒœê°€ ë˜ë©´ í”„ë¡œë¯¸ìŠ¤ì˜ ì²˜ë¦¬ê²°ê³¼(ì—ëŸ¬)ë¥¼ ê°€ì§€ê³  ì—ëŸ¬ ì²˜ë¦¬ë¥¼ í•´ì•¼ í•œë‹¤.ì´ë¥¼ ìœ„í•´ í”„ë¡œë¯¸ìŠ¤ëŠ” í›„ì† ë©”ì„œë“œ then, catch, finallyë¥¼ ì œê³µí•œë‹¤.

í”„ë¡œë¯¸ìŠ¤ì˜ ë¹„ë™ê¸° ì²˜ë¦¬ ìƒíƒœê°€ ë³€í™”í•˜ë©´ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œì— ì¸ìˆ˜ë¡œ ì „ë‹¬í•œ ì½œë°± í•¨ìˆ˜ê°€ ì„ íƒì ìœ¼ë¡œ

í˜¸ì¶œëœë‹¤.

### ðŸ±â€ðŸ‰ Promise.prototype.then

then ë©”ì„œë“œëŠ” ë‘ ê°œì˜ ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤. ì²« ë²ˆì§¸ ì½œë°± í•¨ìˆ˜ëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì„±ê³µí–ˆì„ ë•Œ í˜¸ì¶œë˜ëŠ” ì„±ê³µ ì²˜ë¦¬ ì½œë°± í•¨ìˆ˜ì´ë©°, ë‘ ë²ˆì§¸ ì½œë°± í•¨ìˆ˜ëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì‹¤íŒ¨í–ˆì„ ë•Œ í˜¸ì¶œë˜ëŠ” ì‹¤íŒ¨ ì²˜ë¦¬ ì½œë°± í•¨ìˆ˜ë‹¤. then ë©”ì„œë“œëŠ” ì–¸ì œë‚˜ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.

```js
// fulfilled
new Promise((resolve) => resolve("fulfilled")).then(
  (v) => console.log(v),
  (e) => console.error(e)
); // fulfilled

// rejected
new Promise((_, reject) => reject(new Error("rejected"))).then(
  (v) => console.log(v),
  (e) => console.error(e)
); // Error: rejected
```

### ðŸ±â€ðŸ‰ Promise.prototype.catch

catch ë©”ì„œë“œëŠ” í•œ ê°œì˜ ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤. catch ë©”ì„œë“œì˜ ì½œë°± í•¨ìˆ˜ëŠ” í”„ë¡œë¯¸ìŠ¤ê°€ rejectedìƒíƒœì¸ ê²½ìš°ë§Œ í˜¸ì¶œëœë‹¤. ì—ëŸ¬ì²˜ë¦¬ì— ìœ ìš©í•˜ê²Œ ì‚¬ìš©ëœë‹¤.

catch ë©”ì„œë“œëŠ” ì–¸ì œë‚˜ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.

```js
// rejected
new Promise((_, reject) => reject(new Error("rejected"))).catch((e) =>
  console.log(e)
); // Error: rejected
```

ë‚´ë¶€ì ìœ¼ë¡œ then(undefined, onRejected)ë¥¼ í˜¸ì¶œí•œë‹¤. ì¦‰, catch ë©”ì„œë“œëŠ” thenì˜ ë‘ ë²ˆì§¸ ì½œë°± í•¨ìˆ˜ì™€ ë™ì¼í•˜ê²Œ ë™ìž‘í•œë‹¤.

```js
// rejected
new Promise((_, reject) => reject(new Error("rejected"))).then(undefined, (e) =>
  console.log(e)
); // Error: rejected
```

### ðŸ±â€ðŸ‰ Promise.prototype.finally

finally ë©”ì„œë“œëŠ” í•œ ê°œì˜ ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤. ì„±ê³µ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ ë¬´ì¡°ê±´ í•œ ë²ˆ í˜¸ì¶œëœë‹¤.

finallyëŠ” í”„ë¡œë¯¸ìŠ¤ ìƒíƒœì™€ ìƒê´€ì—†ì´ ê³µí†µì ìœ¼ë¡œ ìˆ˜í–‰í•´ì•¼ í•  ì²˜ë¦¬ ë‚´ìš©ì´ ìžˆì„ ë•Œ ìœ ìš©í•˜ë‹¤.

finally ë©”ì„œë“œëŠ” ì–¸ì œë‚˜ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.

```js
new Promise(() => {}).finally(() => console.log("finally")); // finally
```

í”„ë¡œë¯¸ìŠ¤ ë©”ì†Œë“œë¥¼ í™œìš©í•˜ì—¬ ë¹„ë™ê¸° í•¨ìˆ˜ getì„ ì‚¬ìš©í•´ í›„ì† ì²˜ë¦¬ë¥¼ êµ¬í˜„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

```js
const promiseGet = (url) => {
  return new Promise((resolve, reject) => {
    const xhr = new XMLHttpRequest();
    xhr.open("GET", url);
    xhr.send();

    xhr.onload = () => {
      if (xhr.status === 200) {
        // ì„±ê³µì ìœ¼ë¡œ ì‘ë‹µì„ ì „ë‹¬ë°›ìœ¼ë©´ resolve í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.
        resolve(JSON.parse(xhr.response));
      } else {
        // ì—ëŸ¬ ì²˜ë¦¬ë¥¼ ìœ„í•´ reject í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.
        reject(new Error(xhr.status));
      }
    };
  });
};

// promiseGet í•¨ìˆ˜ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.
promiseGet("https://jsonplaceholder.typicode.com/posts/1")
  .then((res) => console.log(res))
  .catch((err) => console.error(err))
  .finally(() => console.log("Bye!"));
```

## ðŸ˜‰ í”„ë¡œë¯¸ìŠ¤ ì²´ì´ë‹

ìœ„ì—ì„œ "ì½œë°± í—¬"ì—ì„œ ë³´ì•˜ë“¯ì´ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•œ ì½œë°± íŒ¨í„´ì€ ì½œë°± í—¬ì´ ë°œìƒí•˜ëŠ” ë¬¸ì œê°€ ìžˆë‹¤.

í”„ë¡œë¯¸ìŠ¤ëŠ” then, catch, finally í›„ì† ì²˜ë¦¬ ë©”ì„œë“œë¥¼ í†µí•´ ì½œë°± í—¬ì„ í•´ê²°í•œë‹¤.

```js
const url = "https://jsonplaceholder.typicode.com";

// idê°€ 1ì¸ postì˜ userIdë¥¼ ì·¨ë“
promiseGet(`${url}/posts/1`)
  // ì·¨ë“í•œ postì˜ userIdë¡œ user ì •ë³´ë¥¼ ì·¨ë“
  .then(({ userId }) => promiseGet(`${url}/users/${userId}`))
  .then((userInfo) => console.log(userInfo))
  .catch((err) => console.error(err));
```

then -> then -> catch ìˆœìœ¼ë¡œ ì—°ì† í›„ì† ì²˜ë¦¬ ë©”ì„œë“œë¥¼ í˜¸ì¶œí–ˆë‹¤. í›„ì† ì²˜ë¦¬ ë©”ì„œë“œëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ ì—°ì†ì ìœ¼ë¡œ í˜¸ì¶œ í•  ìˆ˜ ìžˆë‹¤. ì´ë¥¼ í”„ë¡œë¯¸ìŠ¤ ì²´ì´ë‹ì´ë¼ í•œë‹¤.

í”„ë¡œë¯¸ìŠ¤ëŠ” í”„ë¡œë¯¸ìŠ¤ ì²´ì´ë‹ì„ í†µí•´ ë¹„ë™ê¸° ì²˜ë¦¬ ê²°ê³¼ë¥¼ ì „ë‹¬ë°›ì•„ í›„ì† ì²˜ë¦¬ë¥¼ í•˜ë¯€ë¡œ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•œ ì½œë°± íŒ¨í„´ì—ì„œ ë°œìƒí•˜ë˜ ì½œë°± í—¬(ì¤‘ì²©)ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ë‹¤ë§Œ í”„ë¡œë¯¸ìŠ¤ë„ ì½œë°± íŒ¨í„´ì„ ì‚¬ìš©í•˜ë¯€ë¡œ ì½œë°± í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.

ì½œë°± íŒ¨í„´ì€ ê°€ë…ì„±ì´ ì¢‹ì§€ ì•Šë‹¤. ì´ ë¬¸ì œëŠ” ES8ì—ì„œ ë„ìž…ëœ async/awaitë¥¼ í†µí•´ í•´ê²°í•  ìˆ˜ ìžˆë‹¤.

async/awaitë¥¼ ì‚¬ìš©í•˜ë©´ í”„ë¡œë¯¸ìŠ¤ì˜ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œ ì—†ì´ ë§ˆì¹˜ ë™ê¸°ì²˜ëŸ¼ í”„ë¡œë¯¸ìŠ¤ê°€ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ë„ë¡ êµ¬í˜„í•  ìˆ˜ ìžˆë‹¤.

```js
const url = "https://jsonplaceholder.typicode.com";

(async () => {
  // idê°€ 1ì¸ postì˜ userIdë¥¼ ì·¨ë“
  const { userId } = await promiseGet(`${url}/posts/1`);

  // ì·¨ë“í•œ postì˜ userIdë¡œ user ì •ë³´ë¥¼ ì·¨ë“
  const userInfo = await promiseGet(`${url}/users/${userId}`);

  console.log(userInfo);
})();
```

async/awaitë„ í”„ë¡œë¯¸ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ìž‘í•˜ë¯€ë¡œ í”„ë¡œë¯¸ìŠ¤ëŠ” ìž˜ ì´í•´í•˜ê³  ìžˆì–´ì•¼ í•œë‹¤.

## ðŸ˜‰ í”„ë¡œë¯¸ìŠ¤ì˜ ì •ì  ë©”ì„œë“œ

PromiseëŠ” ì£¼ë¡œ ìƒì„±ìž í•¨ìˆ˜ë¡œ ì‚¬ìš©ë˜ì§€ë§Œ í•¨ìˆ˜ë„ ê°ì²´ì´ë¯€ë¡œ ë©”ì„œë“œë¥¼ ê°€ì§ˆ ìˆ˜ ìžˆë‹¤.

PromiseëŠ” 5ê°€ì§€ ì •ì  ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.

### ðŸ±â€ðŸ‰ Promise.resolve / Promise.reject

Promise.resolveì™€ Promise.reject ë©”ì„œë“œëŠ” ì´ë¯¸ ì¡´ìž¬í•˜ëŠ” ê°’ì„ ëž˜í•‘í•˜ì—¬ í”„ë¡œë¯¸ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.

```js
// ë°°ì—´ì„ resolveí•˜ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ìƒì„±
const resolvedPromise = Promise.resolve([1, 2, 3]);
resolvedPromise.then(console.log); // [1, 2, 3]
```

```js
// ì—ëŸ¬ ê°ì²´ë¥¼ rejectí•˜ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ìƒì„±
const rejectedPromise = Promise.reject(new Error("Error!"));
rejectedPromise.catch(console.log); // Error: Error!
```

### ðŸ±â€ðŸ‰ Promise.all

Prmise.all ë©”ì„œë“œëŠ” ì—¬ëŸ¬ ê°œì˜ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ëª¨ë‘ ë³‘ë ¬ ì²˜ë¦¬í•  ë•Œ ì‚¬ìš©í•œë‹¤.

í”„ë¡œë¯¸ìŠ¤ë¥¼ ìš”ì†Œë¡œ ê°–ëŠ” ë°°ì—´ ë“±ì˜ ì´í„°ëŸ¬ë¸”ì„ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ”ë‹¤.

```js
const requestData1 = () =>
  new Promise((resolve) => setTimeout(() => resolve(1), 3000));
const requestData2 = () =>
  new Promise((resolve) => setTimeout(() => resolve(2), 2000));
const requestData3 = () =>
  new Promise((resolve) => setTimeout(() => resolve(3), 1000));
```

ìœ„ì˜ ì˜ˆì œì™€ ê°™ì´ ì„¸ ê°œì˜ ë¹„ë™ê¸° ì²˜ë¦¬ ë¡œì§ì´ ìžˆì„ ë•Œ ê¸°ì¡´ì˜ ë°©ë²•ì„ ì´ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

```js
// ì„¸ ê°œì˜ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬
const res = [];
requestData1()
  .then((data) => {
    res.push(data);
    return requestData2();
  })
  .then((data) => {
    res.push(data);
    return requestData3();
  })
  .then((data) => {
    res.push(data);
    console.log(res); // [1, 2, 3] â‡’ ì•½ 6ì´ˆ ì†Œìš”
  })
  .catch(console.error);
```

ì„¸ ê°œì˜ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìžˆë‹¤. ì¦‰, ì²« ë²ˆì§¸ ë¹„ë™ê¸° ì²˜ë¦¬ì— 3ì´ˆ, ë‘ ë²ˆì§¸ ë¹„ë™ê¸° ì²˜ë¦¬ì— 2ì´ˆ, ì„¸ ë²ˆì§¸ ë¹„ë™ê¸° ì²˜ë¦¬ì— 1ì´ˆê°€ ì†Œìš”ë˜ì–´ ì´ 6ì´ˆ ì´ìƒì´ ì†Œìš”ëœë‹¤.

í•˜ì§€ë§Œ ì„¸ ê°œì˜ ë¹„ë™ê¸° ì²˜ë¦¬ì— ëŒ€í•œ ê²°ê³¼ê°’ì€ ì„œë¡œ ì˜ì¡´í•˜ì§€ ì•Šê³  ê°œë³„ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ê¸° ë•Œë¬¸ì— ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬í•  í•„ìš”ê°€ ì—†ë‹¤. ì´ë•Œ Prmise.all ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ ë³‘ë ¬ì²˜ë¦¬í•  ìˆ˜ ìžˆë‹¤.

```js
Promise.all([requestData1(), requestData2(), requestData3()])
  .then(console.log) // [ 1, 2, 3 ] â‡’ ì•½ 3ì´ˆ ì†Œìš”
  .catch(console.error);
```

Prmise.all ë©”ì„œë“œëŠ” ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ë°°ì—´ì˜ ëª¨ë“  í”„ë¡œë¯¸ìŠ¤ê°€ ëª¨ë‘ fulfilled ìƒíƒœê°€ ë˜ë©´ ì¢…ë£Œí•œë‹¤.

fulfilled ìƒíƒœê°€ ë˜ë©´ resolveëœ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ëª¨ë‘ ë°°ì—´ì— ì €ìž¥í•œë‹¤. ì´ë•Œ ì²˜ë¦¬ ê²°ê³¼ ì‹œê°„ ìˆœì´ ì•„ë‹Œ,

ì„ ì–¸í•œ ìˆœìœ¼ë¡œ ê²°ê³¼ê°€ ì €ìž¥ë˜ë¯€ë¡œ ì²˜ë¦¬ ìˆœì„œë¥¼ ë³´ìž¥í•œë‹¤. (ê·¸ëž˜ì„œ ìœ„ì˜ ì˜ˆì‹œ ê²°ê³¼ê°€ 1,2,3ì´ ëœë‹¤.)

Prmise.all ë©”ì„œë“œëŠ” ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ë°°ì—´ì˜ í”„ë¡œë¯¸ìŠ¤ê°€ í•˜ë‚˜ë¼ë„ rejected ìƒíƒœê°€ ë˜ë©´ ì¦‰ì‹œ ì¢…ë£Œëœë‹¤.

```js
Promise.all([
  new Promise((_, reject) =>
    setTimeout(() => reject(new Error("Error 1")), 3000)
  ),
  new Promise((_, reject) =>
    setTimeout(() => reject(new Error("Error 2")), 2000)
  ),
  new Promise((_, reject) =>
    setTimeout(() => reject(new Error("Error 3")), 1000)
  ),
])
  .then(console.log)
  .catch(console.log); // Error: Error 3
```

ë‹¤ìŒì€ ê¹ƒí—ˆë¸Œ ì•„ì´ë””ë¡œ ê¹ƒí—ˆë¸Œ ì‚¬ìš©ìž ì´ë¦„ì„ ì·¨ë“í•˜ëŠ” 3ê°œì˜ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ë³‘ë ¬ ì²˜ë¦¬í•˜ëŠ” ì˜ˆì œì´ë‹¤.

```js
// GET ìš”ì²­ì„ ìœ„í•œ ë¹„ë™ê¸° í•¨ìˆ˜
const promiseGet = (url) => {
  return new Promise((resolve, reject) => {
    const xhr = new XMLHttpRequest();
    xhr.open("GET", url);
    xhr.send();

    xhr.onload = () => {
      if (xhr.status === 200) {
        // ì„±ê³µì ìœ¼ë¡œ ì‘ë‹µì„ ì „ë‹¬ë°›ìœ¼ë©´ resolve í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.
        resolve(JSON.parse(xhr.response));
      } else {
        // ì—ëŸ¬ ì²˜ë¦¬ë¥¼ ìœ„í•´ reject í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.
        reject(new Error(xhr.status));
      }
    };
  });
};

const githubIds = ["jeresig", "ahejlsberg", "ungmo2"];

Promise.all(
  githubIds.map((id) => promiseGet(`https://api.github.com/users/${id}`))
)
  // [Promise, Promise, Promise] => Promise [userInfo, userInfo, userInfo]
  .then((users) => users.map((user) => user.name))
  // [userInfo, userInfo, userInfo] => Promise ['John Resig', 'Anders Hejlsberg', 'Ungmo Lee']
  .then(console.log)
  .catch(console.error);
```

(ê°œë°œ ê³¼ì •ì—ì„œ ë°ì´í„°ë¥¼ ì´ìš©í•œ ì²˜ë¦¬ë¥¼ í•  ë•Œ, mapì„ í™œìš©í•´ì„œ ì²˜ë¦¬í•˜ëŠ” ê²½ìš°ê°€ ë§Žë‹¤.)

### ðŸ±â€ðŸ‰ Promise.race

Promise.race ë©”ì„œë“œëŠ” Promise.all ë©”ì„œë“œì™€ ë™ì¼í•˜ê²Œ ë³‘ëŸ´ ì²˜ë¦¬í•œë‹¤. í•˜ì§€ë§Œ all ë©”ì„œë“œì²˜ëŸ¼ ëª¨ë“  í”„ë¡œë¯¸ìŠ¤ê°€ fulfilled ìƒíƒœê°€ ë˜ëŠ” ê²ƒì„ ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ê°€ìž¥ ë¨¼ì € fulfilled ìƒíƒœê°€ ëœ í”„ë¡œë¯¸ìŠ¤ì˜ ì²˜ë¦¬ ê²°ê³¼ë¥¼ resolve í•œë‹¤. ì¦‰, ê°€ìž¥ ë¹ ë¥¸ ë¹„ë™ê¸° ë¡œì§ í•œ ê°œë§Œ ì²˜ë¦¬í•œë‹¤.

```js
Promise.race([
  new Promise((resolve) => setTimeout(() => resolve(1), 3000)), // 1
  new Promise((resolve) => setTimeout(() => resolve(2), 2000)), // 2
  new Promise((resolve) => setTimeout(() => resolve(3), 1000)), // 3
])
  .then(console.log) // 3
  .catch(console.log);
```

í”„ë¡œë¯¸ìŠ¤ê°€ rejected ìƒíƒœê°€ ë˜ë©´ Promise.all ë©”ì„œë“œì™€ ë™ì¼í•˜ê²Œ ë™ìž‘í•œë‹¤.

### ðŸ±â€ðŸ‰ Promise.allSettled

Promise.allSettled ë©”ì„œë“œëŠ” ì „ë‹¬ë°›ì€ í”„ë¡œë¯¸ìŠ¤ê°€ ëª¨ë‘ settled ìƒíƒœ(ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ìˆ˜í–‰ëœ ìƒíƒœ,

ì¦‰ fulfilled ë˜ëŠ” rejected ìƒíƒœ)ê°€ ë˜ë©´ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë°°ì—´ë¡œ ë°˜í™˜í•œë‹¤. ES11(ECMAScript 2020)ì— ë„ìž…ë˜ì—ˆë‹¤

ì¦‰, Promise.allSettled ë©”ì„œë“œëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ ì„±ê³µ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ ëª¨ë‘ ì²˜ë¦¬í•œ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.

```js
Promise.allSettled([
  new Promise((resolve) => setTimeout(() => resolve(1), 2000)),
  new Promise((_, reject) =>
    setTimeout(() => reject(new Error("Error!")), 1000)
  ),
]).then(console.log);
/*
[
{status: "fulfilled", value: 1},
{status: "rejected", reason: Error: Error! at <anonymous>:3:54}
]
*/
```

## ðŸ˜‰ ë§ˆì´í¬ë¡œíƒœìŠ¤íŠ¸ í

ë‹¤ìŒ ì˜ˆì œë¥¼ ì‚´íŽ´ë³´ê³  ì–´ë–¤ ìˆœì„œë¡œ ë¡œê·¸ê°€ ì¶œë ¥ë ì§€ ìƒê°í•´ë³´ìž.

```js
setTimeout(() => console.log(1), 0);

Promise.resolve()
  .then(() => console.log(2))
  .then(() => console.log(3));
```

í”„ë¡œë¯¸ìŠ¤ì˜ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œë„ ë¹„ë™ê¸°ë¡œ ë™ìž‘í•˜ë¯€ë¡œ 1->2->3ì˜ ìˆœìœ¼ë¡œ ì¶œë ¥ë  ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ

2->3->1 ìˆœìœ¼ë¡œ ì¶œë ¥ëœë‹¤. ê·¸ ì´ìœ ëŠ” í”„ë¡œë¯¸ìŠ¤ì˜ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œì˜ ì½œë°± í•¨ìˆ˜ëŠ” íƒœìŠ¤í¬ íê°€ ì•„ë‹ˆë¼

ë§ˆì´í¬ë¡œíƒœìŠ¤íŠ¸ íì— ì €ìž¥ë˜ê¸° ë•Œë¬¸ì´ë‹¤.

ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íëŠ” íƒœìŠ¤í¬ íì™€ëŠ” ë³„ë„ì˜ íë‹¤. ë§ˆì´í¬ë¡œíƒœìŠ¤íŠ¸ íì—ëŠ” í”„ë¡œë¯¸ìŠ¤ì˜ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œì˜ ì½œë°± í•¨ìˆ˜ê°€ ì¼ì‹œ ì €ìž¥ëœë‹¤. ê·¸ ì™¸ì˜ ë¹„ë™ê¸° í•¨ìˆ˜ì˜ ì½œë°± í•¨ìˆ˜ë‚˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ëŠ” íƒœìŠ¤í¬ íì— ì €ìž¥ëœë‹¤.

ì½œë°± í•¨ìˆ˜ë‚˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ì¼ì‹œ ì €ìž¥í•œë‹¤ëŠ” ì ì—ì„œ íƒœìŠ¤í¬ íì™€ ë™ì¼í•˜ì§€ë§Œ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íëŠ” íƒœìŠ¤í¬ íë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ë‹¤. ì¦‰, ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ì½œ ìŠ¤íƒì´ ë¹„ë©´ ë¨¼ì € ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì—ì„œ ê°€ì ¸ì˜¤ê³ ,

ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íê°€ ë¹„ë©´ ê·¸ì œì„œì•¼ íƒœìŠ¤íŠ¸íì—ì„œ ê°€ì ¸ì™€ì„œ ì²˜ë¦¬í•œë‹¤.

## ðŸ˜‰ fetch

ìœ„ì˜ ë¹„ë™ê¸° ìš”ì²­ ì˜ˆì‹œì—ì„œ XMLHttpRequest ê°ì²´ë¥¼ ì‚¬ìš©í–ˆì§€ë§Œ fetchëŠ” ì´ì™€ ë™ì¼í•˜ê²Œ HTTP ìš”ì²­ ì „ì†¡ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´íŠ¸ Web APIë‹¤. XMLHttpRequest ê°ì²´ë³´ë‹¤ ì‚¬ìš©ë²•ì´ ê°„ë‹¨í•˜ê³  í”„ë¡œë¯¸ìŠ¤ë¥¼ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•œ ì½œë°± íŒ¨í„´ì˜ ë‹¨ì ì—ì„œ ìžìœ ë¡­ë‹¤.

```js
// ê¸°ë³¸ ë¬¸ë²•
const promise = fetch(url [, options])
```

fetch í•¨ìˆ˜ëŠ” HTTP ì‘ë‹µì„ ë‚˜íƒ€ë‚´ëŠ” Response ê°ì²´ë¥¼ ëž˜í•‘í•œ Promise ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.

```js
fetch("https://jsonplaceholder.typicode.com/todos/1").then((response) =>
  console.log(response)
);
```
